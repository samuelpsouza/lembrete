#!/usr/bin/env node

const app = require('../server');
const debug = require('debug')('express-mongoose');
const http = require('http');
const mongoose = require('mongoose');

const port = process.env.PORT || '3000';
const mongoDB = 'mongodb://127.0.0.1/reminder';
const server = http.createServer(app);

mongoose.connect(mongoDB, {useNewUrlParser: true, useUnifiedTopology: true});

const db = mongoose.connection;
db.on('error', console.error.bind(console, 'MongoDB connection error:'));

server.listen(port, () => console.log('Express server listening'));
server.on('error', console.error.bind(console, 'Express server error:'));